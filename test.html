<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Custom Multi-Row Scroll</title>
<style>
  /* Body styling */
  body {
    margin: 0;
    height: 500vh; /* Tall page for multiple rows */
    background: #111;
    /* font-family: sans-serif; */
  }

  /* Common scroll container */
  .custom-scroll-wrapper {
    position: relative;
    width: 90%;
    height: 300px;
    margin: 50px auto;
    overflow: hidden;
    border: 2px solid #fff;
    border-radius: 10px;
  }

  /* Scroll row for horizontal movement */
  .custom-scroll-row {
    display: flex;
    width: 300%; /* Long width for horizontal scroll */
    transition: transform 0.1s linear;
  }

  .custom-scroll-row img {
    width: 100%;
    object-fit: cover;
    display: block;
    opacity: 0.8;
    transition: opacity 0.5s;
  }

  /* Fade in when in viewport */
  .custom-scroll-row img.custom-visible {
    opacity: 1;
  }
</style>
</head>
<body>
<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
<br><br><br>
<!-- Row 1 -->
<div class="custom-scroll-wrapper">
  <div class="custom-scroll-row">
    <img src="img/s2_2.jpg" alt="">
    <img src="img/s2_1.png" alt="">
    <img src="img/s2_1.png" alt="">
    <img src="img/s2_2.jpg" alt="">
    <img src="img/s2_2.jpg" alt="">
    <img src="img/s2_2.jpg" alt="">
    <img src="img/s2_2.jpg" alt="">
  </div>
</div>




<script>
const scrollRows = document.querySelectorAll('.custom-scroll-row');

window.addEventListener('scroll', () => {
  scrollRows.forEach((row) => {
    const wrapper = row.parentElement;
    const rect = wrapper.getBoundingClientRect();

    // Check if wrapper is visible in viewport
    if (rect.top < window.innerHeight && rect.bottom > 0) {
      // Calculate scroll percentage only for visible part
      const visibleHeight = Math.min(rect.bottom, window.innerHeight) - Math.max(rect.top, 0);
      const scrollPercent = 1 - (rect.bottom / (window.innerHeight + wrapper.offsetHeight));

      // Horizontal translate calculation
      const maxTranslate = row.scrollWidth - wrapper.offsetWidth;
      row.style.transform = `translateX(-${maxTranslate * scrollPercent}px)`;

      // Fade in effect for images
      const images = row.querySelectorAll('img');
      images.forEach(img => {
        const imgRect = img.getBoundingClientRect();
        if(imgRect.left < window.innerWidth && imgRect.right > 0){
          img.classList.add('custom-visible');
        } else {
          img.classList.remove('custom-visible');
        }
      });
    }
  });
});

</script>

</body>
</html>
